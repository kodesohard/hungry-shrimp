{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../FeedItems.svelte",
    "../../GamePlay.svelte",
    "../../Options.svelte",
    "../../Shrimp.svelte",
    "../../Icon.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport GamePlay from './components/GamePlay.svelte'\n\timport Options from './components/Options.svelte'\n\timport { options } from './stores'\n\timport Icon from './ui/Icon.svelte'\n\n\tlet stat = {\n\t\tscore: 0,\n\t\tlives: 3\n\t}\n  \n</script>\n\t\n<div class=\"container\">\n\t<div class=\"title\">\n\t\t<h1>Hungry Shrimp</h1>\n\t</div>\n\n\t<main style=\"background-image: url('./{$options.gameMap}.jpg');\">\n\t\t<GamePlay bind:stat />\n\t</main>\n\n\t<div class=\"control-panel\">\n\t\t<h2>Score {stat.score}</h2>\n\t\t<div style=\"display: block; margin: 6px;\">\n\t\t{#each Array(stat.lives) as i}\n\t\t\t<Icon iconName=\"gamepad\" />\n\t\t{/each}\n\t\t</div>\n\t\t<Options />\n\t</div>\n\n</div>\n\n<style>\n\t.container {\n\t\theight: 100%;\n\t\ttext-align: center;\n\t}\n\n\t.title {\n\t\twidth: 600px;\n\t\tmargin: auto;\n\t\ttext-align: center;\n\t\tborder: 1px solid; \n\t\tbackground-color: black;\n\t}\n\n\tmain {\n\t\tdisplay: inline-block;\n\t\twidth: 1000px;\n    \theight: 700px;\n    \tborder: solid black 1px;\n    \tposition: relative;\n    \tmargin: 20px auto;\n\t\tbackground-image: url(\"./blue.jpg\");\n\t\tbackground-size: cover;\n\t}\n\n\t.control-panel {\n\t\tdisplay: inline-block;\n\t\tpadding: 25px;\n\t\tvertical-align: top;\n\t\tborder: solid rgb(110, 108, 108) 1px;\n\t\tborder-radius: 8px;\n\t    margin-top: 19px;\n    \twidth: 200px;\n    \theight: 650px;\n\t}\n\n\th1 {\n\t\tfont-family: Bangers;\n\t\tcolor: white;\n\t\ttext-align: center;\n\t\tfont-size: 6em;\n\t\tfont-weight: 100;\n\t\tmargin: auto;\n\t}\n\n\th2 {\n\t\tfont-family: Bangers;\n\t\ttext-align: center;\n\t\tfont-size: 1.5em;\n\t\tfont-weight: 100;\n\t}\n\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n</style>",
    "<script>\n    import Icon from '../ui/Icon.svelte'\n\n    export let feedItems\n    \n    let feedMap = {\n        '-1': 'mushroom',\n        0: 'gamepad',\n        1: 'shrimp-1',\n        2: 'gold-shrimp-1',\n        3: 'shrimp-pair',\n        4: 'lobster',\n    }\n\n</script>\n\n{#each feedItems as feed}\n    <div class=\"feed\" style=\"left: {feed.x}px; top: {feed.y}px;\">\n        <Icon iconName={feedMap[feed.score]} />\n    </div>\n{/each}\n\n<style>\n    .feed {\n        position: absolute;\n    }\n</style>",
    "<script>\n\timport Shrimp from './Shrimp.svelte'\n    import FeedItems from './FeedItems.svelte'\n    import { options } from '../stores.js'\n    import { fade, fly } from 'svelte/transition'\n    import { afterUpdate } from 'svelte'\n    import Icon from '../ui/Icon.svelte'\n    import { \n        moveShrimp,\n        collision,\n        getNewFeedItems,\n        isReverse,\n        getKeyCodeDirection,\n        removeDuplicatePositions\n    } from '../../utils/GamePlayUtils'\n    \n    \n    let gameOver = false\n    let gameRunning = false\n    let intervalId\n\n    let shrimpPositions = [\n            { x: 50, y: 350 },\n            { x: 25, y: 350 },\n            { x: 0, y: 350 }\n        ]\n    let direction = ''\n    let feedItems\n    let audio\n    let audioSource\n    let sound = ''\n    \n    export let stat\n\n    $: interval = $options.advanced ? 80 : 180\n    $: color = stat.lives < 3 ? '#f78a86' : '#86bbf7'\n    \n    afterUpdate(() => {\n        if (sound) {\n            audioSource.src = `./${sound}`\n            audioSource.type = `audio/${sound.split('.')[1]}`\n            audio.load()\n            audio.play()\n            sound = ''\n        }\n    })\n\n    function startGame() {\n        initialState()\n        intervalId = setInterval(() => {\n            if (!direction || gameOver) {\n                return\n            }\n            \n            shrimpPositions.pop()\n            const { ...curHead } = shrimpPositions[0]\n            const newHead = moveShrimp(direction, curHead)\n            shrimpPositions = [newHead, ...shrimpPositions]\n            if (isGameOver()) {\n                $options.music = 'theEnd.mp3'\n                return\n            }\n            \n            feedItems.forEach((feed, idx) => {\n                if (collision(newHead, feed)) {\n                    const consumedFeed = feedItems.splice(idx, 1)[0]\n                    feedItems = updateFeedItems()\n                    \n                    setSound(consumedFeed)\n                    updateStat(consumedFeed)\n                    if (stat.score > 15 && $options.music !== 'terror.mp3') {\n                        $options.music = 'terror.mp3'\n                    }\n                    shrimpPositions = [...shrimpPositions, shrimpPositions[1]]\n                }   \n            })\n               \n        }, interval)\n    }\n\n    function updateStat(consumedFeed) {\n        stat.score = stat.score + (consumedFeed.score || 0)\n        stat.lives = stat.lives + (consumedFeed.life || 0)\n    }\n\n    function setSound(consumedFeed) {\n        if (consumedFeed.score > 0) {\n            sound = 'pointsAdded.wav'\n        } else if (consumedFeed.life > 0) {\n            sound = 'healthAdded.wav'\n        } else if (consumedFeed.life < 0) {\n            sound = 'healthLost.wav'\n        }\n    }\n\n    function updateFeedItems() {\n\n        if (feedItems.filter(f => f.score !== -1).length > 8) {\n            return []\n        }\n\n        let newFeeds = []\n        const availableStats = feedItems.reduce((acc, item) => {\n            acc.score += (item.score || 0)\n            acc.healers += item.life === 1 ? 1 : 0\n            return acc\n        }, { score: 0, healers: 0 })\n\n        if (stat.score <= 5) {\n            newFeeds = getNewFeedItems(1, 1)\n        } else if (stat.score > 5 && stat.score <= 10) {\n            newFeeds = getNewFeedItems(2, 2)\n        } else if (stat.score > 10) {\n            newFeeds = getNewFeedItems(3, 3)\n            if (stat.lives >= 2) {\n                // add poison mushroom\n                newFeeds.push(getNewFeedItems(1, 4)[0])\n            } \n            if (stat.lives < 3 && availableStats.healers < (3 - stat.lives)) {\n                // add healer\n                newFeeds.push(getNewFeedItems(1, 5)[0])\n            }\n        }\n        return removeDuplicatePositions([...feedItems, ...newFeeds])\n    }\n\n    function isGameOver() {\n        const head = shrimpPositions[0]\n\n        if (\n            head.x < 0 ||\n            head.x > 975 ||\n            head.y < 0 ||\n            head.y > 675 ||\n            shrimpPositions.slice(1).find(s => collision(s, head)) ||\n            stat.lives === 0\n        ) {\n            sound = 'dead.wav'\n            gameOver = true\n            return true\n        }\n    }\n\n    function onKeyDown(event) {\n        event.preventDefault()\n        const newDirection = getKeyCodeDirection(event.keyCode)\n        if (newDirection && !isReverse(direction, newDirection)) {\n            direction = newDirection\n            if (!gameRunning) {\n                startGame()\n            }\n        }\n    }\n\n    function initialState() {\n        clearInterval(intervalId)\n        gameRunning = true\n        gameOver = false\n        $options.music = 'theBeginning.mp3'\n        sound = ''\n\n        stat = { score: 0, lives: 3 }\n        direction = 'right' \n        shrimpPositions = [\n            { x: 50, y: 350 },\n            { x: 25, y: 350 },\n            { x: 0, y: 350 }\n        ]\n        feedItems = getNewFeedItems(1, 1)\n    }\n</script>\n\n<div class=\"game-play\">\n    {#if gameRunning}\n        <Shrimp {color} {shrimpPositions} />\n        <FeedItems {feedItems}/>\n    {/if}\n    {#if gameOver}\n        <div transition:fly=\"{{ y: 200, duration: 2000 }}\">\n            <p>Game Over Loser!</p>\n            <p>Score: {stat.score}</p>\n            <p>Lives: {stat.lives}</p>\n            <Icon cssClass=\"restart\" iconName=\"restart\" on:click={startGame}/>\n        </div>\n    {:else if !gameRunning}\n        <p transition:fade>Press any arrow key to start playing.</p>\n    {/if}\n</div>\n<audio bind:this={audio}>\n    <source bind:this={audioSource} src=\"\" type=\"\">\n</audio>\n<svelte:window on:keydown={onKeyDown} />\n\n<style>\n    p {\n        font-family: bangers;\n\t\ttext-align: center;\n\t\tfont-size: 4em;\n        font-weight: 200;\n        color: #f5f0f6;\n        z-index: 10;\n        position: relative;\n    }\n    \n    \n</style>",
    "<script>\n    import { options } from '../stores.js'\n    import { afterUpdate } from 'svelte'\n    import Icon from '../ui/Icon.svelte'\n\n    let audio\n    let audioSource\n    let muted = false\n\n    $: soundIcon = muted ? 'sound-muted' : 'sound-on'\n\n    afterUpdate(() => {\n        if ($options.music) {\n            audioSource.src = `./${$options.music}`\n            audioSource.type = `audio/${$options.music.split('.')[1]}`\n            audio.load()\n            audio.play()\n        }\n    })\n</script>\n\n<div class=\"tab\">\n    <button class:active=\"{$options.gameMap === 'blue'}\" on:click={() => $options.gameMap = 'blue'}>Koro Sea</button>\n    <button class:active=\"{$options.gameMap === 'corals'}\" on:click={() => $options.gameMap = 'corals'}>iQuatic Sea</button>\n    <button class:active=\"{$options.gameMap === 'jelly'}\" on:click={() => $options.gameMap = 'jelly'}>Red Sea</button>\n</div>\n\n\n<div class=\"toggle\">\n    <label class=\"switch\">\n        <input type=\"checkbox\" on:click={() => $options = { ...$options, advanced: !$options.advanced }} />\n        <span class=\"slider\"></span>\n    </label>\n    <label>{$options.advanced ? 'Advanced' : 'Easy'}</label>\n</div>\n\n<audio bind:this={audio} {muted} autoplay loop>\n    <source bind:this={audioSource} src=\"\" type=\"\">\n</audio>\n\n<Icon style=\"margin-top: 15px;\" iconName={soundIcon} on:click={() => muted = !muted}/>\n\n<div class=\"icon-legend\">\n    <Icon iconName=\"shrimp-1\" /><p>+1 point</p>\n    <Icon iconName=\"gold-shrimp-1\" /><p>+2 points</p>\n    <Icon iconName=\"shrimp-pair\" /><p>+3 points</p>\n    <Icon iconName=\"lobster\" /><p>+4 points</p>\n    <Icon iconName=\"mushroom\" /><p>-1 life</p>\n    <Icon iconName=\"gamepad\" /><p>+1 life</p>\n</div>\n\n<style>\n    .icon-legend {\n        font-family: bangers;\n        margin-top: 30px;\n    }\n    .icon-legend > p {\n        margin-top: 0;\n    }\n    .toggle {\n        display: block;\n        font-family: bangers;\n    }\n\n    .switch {\n        position: relative;\n        display: inline-block;\n        width: 60px;\n        height: 34px;\n    }\n\n    .switch input {\n        opacity: 0;\n        width: 0;\n        height: 0;\n    }\n\n    .slider {\n        position: absolute;\n        cursor: pointer;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: #ccc;\n        -webkit-transition: .4s;\n        transition: .4s;\n    }\n\n    .slider:before {\n        position: absolute;\n        content: \"\";\n        height: 26px;\n        width: 26px;\n        left: 4px;\n        bottom: 4px;\n        background-color: white;\n        -webkit-transition: .4s;\n        transition: .4s;\n    }\n\n    input:checked + .slider {\n        background-color: #2196F3;\n    }\n\n    input:focus + .slider {\n        box-shadow: 0 0 1px #2196F3;\n    }\n\n    input:checked + .slider:before {\n        -webkit-transform: translateX(26px);\n        -ms-transform: translateX(26px);\n        transform: translateX(26px);\n    }\n\n    .tab {\n        display: block;\n        float: left;\n        border-radius: 5px;\n        border: 1px solid #ccc;\n        background-color: #f1f1f1;\n        width: auto;\n        height: auto;\n    }\n\n    .tab button {\n        font-family: bangers;\n        display: block;\n        background-color: inherit;\n        color: black;\n        width: 100%;\n        border: none;\n        outline: none;\n        text-align: left;\n        cursor: pointer;\n        transition: 0.4s;\n        font-size: 17px;\n        margin-bottom: auto;\n    }\n\n    .tab button:hover {\n        background-color: #a5cff0;\n    }\n\n    .tab button.active {\n        background-color: #2196F3;\n    }\n\n</style>",
    "\n<script>\nexport let shrimpPositions\nexport let color\n\n</script>\n\n{#each shrimpPositions as position, i}\n    <div style=\"background-color: {color}; left: {position.x}px; top: {position.y}px;\" class=\"body\" />\n{/each}\n\n\n<style>\n    .body {\n        background-color: #86bbf7;\n        border: black 1px solid;\n        border-radius: 8px;\n        position: absolute;\n        width: 24px;\n        height: 24px;\n        z-index: 3;\n    }\n\n</style>",
    "<script>\n    export let iconName\n    export let cssClass = ''\n    export let style = ''\n</script>\n\n<svg {style} class=\"icon {cssClass}\" on:click>\n    <use xlink:href=\"./icons-sprite.svg#{iconName}\" />\n</svg>\n\n<style>\n    .icon {\n        width: 28px;\n        height: 28px;\n        cursor: pointer;\n        z-index: 4;\n    }\n\n    .restart {\n        width: 35px; \n        height: 35px;\n        filter: invert(100);\n    }\n\n</style>"
  ],
  "names": [],
  "mappings": "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"
}